<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div id="form1">
    <div class="row" style="padding: 0% 5% 0% 5%;">
      <div class="ribbon-pop p-3 text-center fs-5" style="font-family:sans-serif;">Book Delivery</div>
      <div class="col-md-12">
        <div class="card p-3">
          <div class="row g-3 align-items-stretch p-1">
            <div class="col-md">
              <label for="FwdNtSttn" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map-fill text-primary-emphasis me-1"></i>Station<span class="text-danger"> *</span>
              </label>
              <input type="text" class="form-control form-control-sm border border-light rounded-3 shadow-sm bg-light" id="FwdNtSttn" formControlName="FwdNtSttn" name="FwdNtSttn" placeholder="Enter station">
            </div>
            <div class="col-md">
              <label for="FwdNtDate" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-calendar-event text-primary-emphasis me-1"></i>Date
              </label>
              <input type="date" class="form-control form-control-sm border border-light rounded-3 shadow-sm bg-light" id="FwdNtDate" formControlName="FwdNtDate" name="FwdNtDate">
            </div>

            <div class="col-md">
              <label for="FwdNtSttn" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map-fill text-primary-emphasis me-1"></i>Consignment ID<span class="text-danger"> *</span>
              </label>
              <input type="text" class="form-control form-control-sm border border-light rounded-3 shadow-sm bg-light" id="FwdNtSttn" formControlName="FwdNtSttn" name="FwdNtSttn" placeholder="Enter Consignment ID">
            </div>

            <div class="col-md">
              <label for="BDNumber" class="form-label text-primary-emphasis fw-semibold"><i class="bi bi-hash text-primary-emphasis me-1"></i>BD Number</label>
              <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" id="BDNumber" formControlName="BDNumber" placeholder="Enter BD Number">
            </div>
            <div class="col-md">
              <label for="BDDate" class="form-label text-primary-emphasis fw-semibold"><i class="bi bi-calendar-date text-primary-emphasis me-1"></i>BD Date</label>
              <input type="date" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" id="BDDate" formControlName="BDDate" placeholder="Enter BD Date">
            </div>
          </div>
          <div class="row g-1 align-items-stretch ">
            <div class="col-md-6 " formGroupName="iwbDetails">
              <fieldset class="border rounded-4 shadow-sm bg-light px-3 py-2">
                <legend class="float-none w-auto px-3 text-primary-emphasis fs-6 fw-bold">
                  <i class="bi bi-sliders2 text-primary-emphasis me-1"></i> IWB<span class="text-danger"> *</span>
                </legend>
                <div class="row">
                  <div class="col-md-6">
                    <label for="FwdNtIWBNumber" class="form-label text-primary-emphasis fw-semibold">IWB Number</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtIWBNumber" formControlName="FwdNtIWBNumber" placeholder="Enter IWB Number">
                  </div>
                  <div class="col-md-6">
                    <label for="FwdNtContainerNumber" class="form-label text-primary-emphasis fw-semibold">Container Number</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtContainerNumber" formControlName="FwdNtContainerNumber" placeholder="Enter Container Number">
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-4">
                    <label for="FwdNtIWDate" class="form-label text-primary-emphasis fw-semibold">Date</label>
                    <input type="date" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtIWDate" formControlName="FwdNtIWDate" placeholder="Enter Date">
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtInvoiceNo" class="form-label text-primary-emphasis fw-semibold">Invoice No.</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtInvoiceNo" formControlName="FwdNtInvoiceNo" placeholder="Enter Invoice No.">
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtStationFrom" class="form-label text-primary-emphasis fw-semibold">Station From</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtStationFrom" formControlName="FwdNtStationFrom" placeholder="Enter Station From">
                  </div>
                </div>
              </fieldset>
            </div>
            <div class="col-md-6 h-100" formGroupName="distanceDetails">
              <fieldset class="border rounded-4 shadow-sm bg-light px-3 py-2 ">
                <legend class="float-none w-auto px-3 text-primary-emphasis fs-5 fw-bold">
                  <i class="bi bi-geo-alt text-primary-emphasis me-1"></i> Distance<span class="text-danger"> *</span>
                </legend>
                <div class="row g-1 align-items-stretch">
                  <div class="col-md-4">
                    <label for="FwdNtDistanceConsignor" class="form-label text-primary-emphasis fw-semibold">Distance Consignor</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtDistanceConsignor" formControlName="FwdNtDistanceConsignor" placeholder="Enter Distance Consignor" />
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtPickupPoint" class="form-label text-primary-emphasis fw-semibold">Pickup Point</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtPickupPoint" formControlName="FwdNtPickupPoint" placeholder="Enter Pickup Point" />
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtConsignee" class="form-label text-primary-emphasis fw-semibold">Consignee</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtConsignee" formControlName="FwdNtConsignee" placeholder="Enter Consignee" />
                  </div>
                </div>
                <div class="row mt-1">
                  <div class="col-md-4">
                    <label for="FwdNtDlvrPoint" class="form-label text-primary-emphasis fw-semibold">Dlvr Point</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtDlvrPoint" formControlName="FwdNtDlvrPoint" placeholder="Enter Dlvr Point" />
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtDeliveryState" class="form-label text-primary-emphasis fw-semibold">Delivery State</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtDeliveryState" formControlName="FwdNtDeliveryState" placeholder="Enter Delivery State" />
                  </div>
                  <div class="col-md-4">
                    <label for="FwdNtDeliveryAddress" class="form-label text-primary-emphasis fw-semibold">Delivery Address</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtDeliveryAddress" formControlName="FwdNtDeliveryAddress" placeholder="Enter Delivery Address" />
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
          <div class="row g-1 align-items-stretch " formGroupName="details">
            <div class="col-md-12 ">
              <fieldset class="border rounded-4 shadow-sm bg-light px-3 py-2 h-100">
                <legend class="float-none w-auto px-3 text-primary-emphasis fs-5 fw-bold">
                  <i class="bi bi-sliders2 text-primary-emphasis me-1"></i> Details<span class="text-danger"> *</span>
                </legend>
                <div class="row">
                  <div class="col-md-2">
                    <label for="FwdNtCnsrCode" class="form-label text-primary-emphasis fw-semibold">Consignor Code</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCnsrCode" formControlName="FwdNtCnsrCode" placeholder="Consignor Code">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtCnsrName" class="form-label text-primary-emphasis fw-semibold">Consignor Name</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCnsrName" formControlName="FwdNtCnsrName" placeholder="Consignor Name">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtCmdtType" class="form-label text-primary-emphasis fw-semibold">Commodity Type</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCmdtType" formControlName="FwdNtCmdtType" placeholder="Commodity Type">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtPmnttype" class="form-label text-primary-emphasis fw-semibold">Payment Type</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtPmnttype" formControlName="FwdNtPmnttype" placeholder="Payment Type">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtSrvcMode" class="form-label text-primary-emphasis fw-semibold">Service Mode</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtSrvcMode" formControlName="FwdNtSrvcMode" placeholder="Service Mode">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtstfngCtnrs" class="form-label text-primary-emphasis fw-semibold">Consignor State</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtstfngCtnrs" formControlName="FwdNtstfngCtnrs" placeholder="Consignor State">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtCnsID" class="form-label text-primary-emphasis fw-semibold">CRIS Id</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCnsID" formControlName="FwdNtCnsID" placeholder="CRIS Id">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtAddr" class="form-label text-primary-emphasis fw-semibold">Address</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtAddr" formControlName="FwdNtAddr" placeholder="Address">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtCity" class="form-label text-primary-emphasis fw-semibold">City</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCity" formControlName="FwdNtCity" placeholder="City">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtPhone" class="form-label text-primary-emphasis fw-semibold">Phone No.</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtPhone" formControlName="FwdNtPhone" placeholder="Phone No.">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtEmail" class="form-label text-primary-emphasis fw-semibold">E-Mail</label>
                    <input type="email" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtEmail" formControlName="FwdNtEmail" placeholder="E-Mail">
                  </div>
                  <div class="col-md-2">
                    <label for="FwdNtCRISGSTN" class="form-label text-primary-emphasis fw-semibold">CRIS GSTN</label>
                    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" id="FwdNtCRISGSTN" formControlName="FwdNtCRISGSTN" placeholder="CRIS GSTN">
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
          <div class="row g-1 align-items-end p-1">
            <div class="col-md-12 h-100 ">
              <div class="h-100  justify-content-between " >
                <fieldset class="border rounded-4 shadow-sm bg-light px-3  w-100" >
  <legend class="float-none w-auto px-3 text-primary-emphasis fs-6 fw-bold">
    <i class="bi bi-box-seam text-primary-emphasis me-1"></i> Container Details <span class="text-danger"> *</span>
  </legend>
  <div #scrollContainer class="table-responsive" style="max-height: 150px; overflow-y: auto;">
    <table class="table table-sm table-hover align-middle table-bordered pb-1">
      <thead class="table-light text-center">
        <tr>
          <th scope="col" style="font-weight: bold;" rowspan="2">S no.</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">Container No.</th>
          <th scope="col" style="font-weight: bold;" colspan="2">Container</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">L/E</th>
          <th scope="col" style="font-weight: bold;" colspan="2">Commodity</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">No. of Pkgs</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">Weight</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">Seal Numbers</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">Arvl Stts</th>
          <th scope="col" style="font-weight: bold;" rowspan="2">Trns By</th>
        </tr>
        <tr>
          <th scope="col" style="font-weight: bold;">Type</th>
          <th scope="col" style="font-weight: bold;">Size</th>
          <th scope="col" style="font-weight: bold;">Stuffed</th>
          <th scope="col" style="font-weight: bold;">Type</th>
        </tr>
      </thead>
      <tbody formArrayName="containerDetails">
        <tr *ngFor="let container of containerDetails.controls; let i = index" [formGroupName]="i" [id]="'row-' + i">
          <td scope="row" class="text-center text-muted">
            <input type="checkbox" [formControlName]="'isSelected'" (change)="toggleRowBorder(i)">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="ContainerNo" placeholder="Container No.">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="ContainerType" placeholder="Type">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="ContainerSize" placeholder="Size">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="LE" placeholder="L/E">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="CommodityStuffed" placeholder="Stuffed">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="CommodityType" placeholder="Type">
          </td>
          <td>
            <input type="number" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="NoOfPackages" placeholder="No. of Pkgs">
          </td>
          <td>
            <input type="number" step="0.01" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="Weight" placeholder="Weight">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="SealNumbers" placeholder="Seal Numbers">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="ArrivalStatus" placeholder="Arvl Stts">
          </td>
          <td>
            <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-white" formControlName="TransportedBy" placeholder="Trns By">
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</fieldset>

<div class="row g-3 align-items-end p-1">
  <div class="col-md-3">
    <label for="TotalCharge" class="form-label text-primary-emphasis fw-semibold">Total Charge</label>
    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" formControlName="TotalCharge" placeholder="Total Change" readonly>
  </div>
  <div class="col-md-3">
    <label for="TotalGST" class="form-label text-primary-emphasis fw-semibold">Total GST</label>
    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" formControlName="TotalGST" placeholder="Total GST" readonly>
  </div>
  <div class="col-md-3">
    <label for="TotalTDS" class="form-label text-primary-emphasis fw-semibold">Total TDS</label>
    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" formControlName="TotalTDS" placeholder="Total TDS" readonly>
  </div>
  <div class="col-md-3">
    <label for="AmtPayable" class="form-label text-primary-emphasis fw-semibold">Amount Payable</label>
    <input type="text" class="form-control form-control-sm border-light rounded-3 shadow-sm bg-light" formControlName="AmtPayable" placeholder="Amount Payable" readonly>
  </div>
  
  
</div>
                <div class="d-flex justify-content-end mt-2">
                    </div>
              </div>
            </div>
          </div>

          

          <div class="row g-3 align-items-end p-1">
            <div class="col-md-2">
              <label for="FwdNtCorpCode" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map text-primary-emphasis me-1"></i> Group ID <span class="text-danger"> *</span>
              </label>
              <input type="text" class="form-control border-0 shadow-sm rounded-3 px-3 py-2 bg-light" id="FwdNtCorpCode" name="FwdNtCorpCode" placeholder="Enter Group ID" formControlName="FwdNtCorpCode">
            </div>
            <div class="col-md-2">
              <label for="FwdNtCorpName" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map text-primary-emphasis me-1"></i> Grand Total <span class="text-danger"> *</span>
              </label>
              <input type="datetime" class="form-control border-0 shadow-sm rounded-3 px-3 py-2 bg-light" id="FwdNtCorpName" name="FwdNtCorpName" placeholder="Grand Total" formControlName="FwdNtCorpName">
            </div>
            <div class="col-md-2">
              <label for="FwdNtAmountPybl" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map text-primary-emphasis me-1"></i> Payable <span class="text-danger"> *</span>
              </label>
              <div class="input-group">
                <input type="text" class="form-control border-0 shadow-sm rounded-3 px-3 py-2 bg-light" id="FwdNtAmountPybl" name="FwdNtAmountPybl" placeholder="Amount Payable" formControlName="FwdNtAmountPybl">
              </div>
            </div>
            <div class="col-md-6 d-flex align-items-end">
              <button type="button" class="btn btn-primary btn-sm" (click)="openBreakupModal()">
              <i class="bi bi-list-columns me-1"></i> Breakup
            </button>
            </div>
            
          </div>
          <div class="row p-1">
            <div class="col-md-12">
              <div class="row mt-3">
                <div class="button-wrapper">
                  <button class="btn-modern submit-btn" type="submit">
                    <i class="bi bi-check-circle-fill me-2"></i> Submit
                  </button>
                  <button class="btn-modern reset-btn">
                    <i class="bi bi-arrow-counterclockwise me-2"></i> Reset
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<div class="modal fade" id="breakupModal" tabindex="-1" aria-labelledby="breakupModalLabel" aria-hidden="true"
     [ngClass]="{'show d-block': isBreakupModalOpen}"
     [style.display]="isBreakupModalOpen ? 'block' : 'none'">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="breakupModalLabel">Breakup Details</h5>
        <button type="button" class="btn-close" (click)="closeBreakupModal()" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        
        <!-- <fieldset class="border rounded-4 shadow-sm bg-light px-3 py-2 mb-3">
  <legend class="float-none w-auto px-3 text-primary-emphasis fs-6 fw-bold">
    <i class="bi bi-table text-primary-emphasis me-1"></i> Surcharge Details
  </legend>
  <div #surchargeScrollContainer class="table-responsive" style="max-height: 150px; overflow-y: auto;">
    <table class="table table-sm table-hover align-middle table-bordered mb-0">
      <thead>
        <tr>
          <th colspan="1">Container</th>
          <th colspan="1">Rate</th>
          <th colspan="5">Surcharge</th>
          <th colspan="7">Addl. Chrgs</th>
          <th colspan="1">Misc.</th>
          <th colspan="2">Brdr Cross</th>
          <th colspan="1">Waiver</th>
          <th colspan="1">Credit</th>
          <th colspan="1">Total</th>
          <th colspan="1">Net</th>
        </tr>
        <tr>
          <th>Number</th>
          <th></th>
          <th>Over Wt.</th>
          <th>Hazard</th>
          <th>To/Late Pay</th>
          <th>TnptSur</th>
          <th>Cargo</th>
          <th>Handling</th>
          <th>Tnpt</th>
          <th>TSC/CWC</th>
          <th>Detn</th>
          <th>PTI Chrg</th>
          <th>PlugIn Chrg</th>
          <th>TAC</th>
          <th>Charges</th>
          <th>From Non Txbl</th>
          <th>From Txbl</th>
          <th>To Non Txbl</th>
          <th>To Txbl</th>
          <th>From</th>
          <th>To</th>
          <th>Amnt</th>
          <th></th>
          <th>Srvc Tax</th>
          <th>Cess</th>
          <th>Cess</th>
          <th>Amnt</th>
        </tr>
      </thead>
      <tbody formArrayName="surchargeDetailsArray">
        <tr *ngFor="let row of surchargeDetailsArray.controls; let i = index" [formGroupName]="i">
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="containerNumber" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="rate" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="overWt" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="hazard" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="toLatePay" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="tnptSur" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="cargo" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="handling" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="tnpt" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="tscCwc" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="detention" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="ptiChrg" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="plugInChrg" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="tac" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="charges" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="fromNonTaxable" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="fromTaxable" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="toNonTaxable" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="toTaxable" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="brdrFrom" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="brdrTo" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="waiverAmount" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="credit" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="totalServiceTax" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="swachhBharatCess" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="krishiKalyanCess" readonly /></td>
          <td><input type="text" class="form-control form-control-sm bg-white" formControlName="netAmount" readonly /></td>
        </tr>
      </tbody>
    </table>
  </div>
</fieldset>
        <div class="d-flex justify-content-end mt-2">
            <button type="button" class="btn btn-primary btn-sm" (click)="fetchAndFillCharges()">
                <i class="bi bi-currency-dollar me-1"></i> Fetch Charges
            </button>
        </div> -->
        
        <div class="table-responsive">
          <table class="table table-sm table-bordered">
            <thead>
              <tr>
                <th rowspan="2" class="text-nowrap">Charges</th>
                <ng-container *ngFor="let container of breakupData.containerNumbers">
                  <th colspan="2" class="text-center">{{ container }}</th>
                </ng-container>
              </tr>
              <tr>
                <ng-container *ngFor="let container of breakupData.containerNumbers">
                  <th class="text-center">Amt</th>
                  <th class="text-center">GST</th>
                </ng-container>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let charge of breakupData.charges">
  <td class="text-nowrap">{{ charge.name }}</td>
  <ng-container *ngFor="let container of breakupData.containerNumbers">
    <td class="text-end">{{ charge.data[container]?.amount || '-' }}</td>
    <td class="text-end">{{ charge.data[container]?.gst || '-' }}</td>
  </ng-container>
</tr>

            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="closeBreakupModal()">Close</button>
      </div>
    </div>
  </div>
</div>

</form>
