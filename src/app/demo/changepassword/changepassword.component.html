<form [formGroup]="form"  (ngSubmit)="onSubmit()">
  <!--First grid -->

  <div id="form1" style="margin: 0% 20% 0% 20%;">
  
  <div class="row"  style="padding: 0% 5% 0% 5%;">
      <div class="ribbon-pop p-3 text-center fs-5" style="font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">Change Password</div>
    <div class="col-md-12">
     
      <div class="card p-3">
          
          <div class="row g-3 align-items-end p-1">
            <div class="col-md-6 d-flex justify-content-center align-items-start">
  <img src="assets/images/reset.jpg" 
       alt="Change Password" 
       class="img-fluid rounded-4 shadow-sm" 
       style="max-height: 350px; object-fit: contain;" />
</div>

<div class="col-md-6">
            <!-- Station From -->
            <div class="col-md-12">
              <label for="CustUserName" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map-fill text-primary-emphasis me-1"></i>UserName<span class="text-danger"> *</span>
              </label>
              
              <input type="text" class="form-control border border-light rounded-3 shadow-sm bg-light" formControlName="CustUserName" id="CustUserName" readonly name="CustUserName" placeholder="TestUser">
            </div>

            <div class="col-md-12">
              <label for="CustoldPass" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map-fill text-primary-emphasis me-1"></i>Old Password<span class="text-danger"> *</span>
              </label>
              
              <input type="text" class="form-control border border-light rounded-3 shadow-sm bg-light" formControlName="CustoldPass" id="CustoldPass"  name="CustoldPass" placeholder="Old Password">
            </div>

            <div class="col-md-12">
              <label for="CustNewPass" class="form-label text-primary-emphasis fw-semibold">
                <i class="bi bi-pin-map-fill text-primary-emphasis me-1"></i>New Password<span class="text-danger"> *</span>
              </label>
              
              <input type="text" class="form-control border border-light rounded-3 shadow-sm bg-light" formControlName="CustNewPass" id="CustNewPass"  name="CustNewPass" placeholder="New Password">
            </div>

            <div class="col-md-12">
  <label for="CustMobileNo" class="form-label text-primary-emphasis fw-semibold">
    <i class="bi bi-phone-fill text-primary-emphasis me-1"></i> Mobile No<span class="text-danger"> *</span>
  </label>

  <input type="text"
         maxlength="10"
         class="form-control border border-light rounded-3 shadow-sm bg-light"
         formControlName="CustMobileNo"
         id="CustMobileNo"
         name="CustMobileNo"
         placeholder="Enter Mobile No"
         (input)="onMobileInput($event)" />
</div>

<div class="col-md-12 mt-2">
  <label for="CustMobileOTP" class="form-label text-primary-emphasis fw-semibold">
    <i class="bi bi-shield-lock-fill text-primary-emphasis me-1"></i> OTP
  </label>

  <div class="input-group">
    <input type="text"
           maxlength="6"
           class="form-control border border-light rounded-start shadow-sm bg-light"
           formControlName="CustMobileOTP"
           id="CustMobileOTP"
           name="CustMobileOTP"
           placeholder="Enter OTP"
           (input)="onOtpInput($event)"
           [disabled]="otpStatus === 'expired' || otpStatus === 'success'" />

    <!-- Resend button only when expired -->
    <button *ngIf="otpStatus === 'expired'" 
            type="button" 
            class="btn btn-outline-primary rounded-end"
            (click)="resendOtp()">
      Resend OTP
    </button>
  </div>

  <!-- Timer (show only when running and not success/expired) -->
  <div *ngIf="countdown > 0 && otpStatus !== 'success' && otpStatus !== 'expired'" 
       class="text-danger fw-semibold mt-1">
    Time left: {{ countdown }}s
  </div>

  <!-- Status messages -->
  <div *ngIf="otpStatus === 'success'" class="text-success fw-semibold mt-1">
    ✅ OTP Verified
  </div>
  <div *ngIf="otpStatus === 'error'" class="text-danger fw-semibold mt-1">
    ❌ Invalid OTP
  </div>
  <div *ngIf="otpStatus === 'expired'" class="text-warning fw-semibold mt-1">
    ⏳ OTP Expired
  </div>
</div>


            </div>

            <div class="col-md-12  align-items-center">
              <app-captcha></app-captcha>
            </div>
          
          
            
            
          
            <!-- Required Date -->
            
            
          
          </div>
          
          


          
          
        
          
          
            <div class="row ">
              
              <!-- Middle column: content -->
              <div class="col-md-12">


                <div class="row mt-3">
                  <div class="button-wrapper">
                      <button class="btn-modern submit-btn" type="submit">
                        <i class="bi bi-check-circle-fill me-2"></i> Submit
                      </button>
                      <button class="btn-modern reset-btn">
                        <i class="bi bi-arrow-counterclockwise me-2"></i> Reset
                      </button>
                    </div>
                    
                    
                    

                </div>
                
              </div>
            
            </div>
            <!-- </fieldset> -->

        </div>
      </div>
    </div>

  </div>


    <!-- submit grid end -->

  </form>


